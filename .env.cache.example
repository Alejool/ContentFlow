# ============================================
# REDIS CACHE CONFIGURATION
# ============================================

# Cache Driver (use redis for production)
CACHE_STORE=redis

# Redis Connection
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Redis Databases (separate databases for different purposes)
REDIS_DB=0              # Default database for general use
REDIS_CACHE_DB=1        # Dedicated database for cache

# Redis Cluster (optional, for high availability)
REDIS_CLUSTER=redis

# Redis Prefix (to avoid key collisions)
REDIS_PREFIX=myapp_database_
CACHE_PREFIX=myapp_cache_

# ============================================
# CACHE TTL CONFIGURATION (in seconds)
# ============================================

# Publication Cache
CACHE_PUBLICATION_METADATA_TTL=3600    # 1 hour
CACHE_PUBLICATION_STATS_TTL=1800       # 30 minutes
CACHE_PUBLICATION_LIST_TTL=600         # 10 minutes

# Social API Cache
CACHE_SOCIAL_PROFILE_TTL=7200          # 2 hours
CACHE_SOCIAL_ANALYTICS_TTL=1800        # 30 minutes
CACHE_SOCIAL_POSTS_TTL=600             # 10 minutes
CACHE_SOCIAL_RATE_LIMIT_TTL=3600       # 1 hour

# Query Cache
CACHE_QUERY_DEFAULT_TTL=1800           # 30 minutes
CACHE_QUERY_STATS_TTL=3600             # 1 hour

# HTTP Response Cache
CACHE_HTTP_DEFAULT_TTL=300             # 5 minutes

# ============================================
# CACHE BEHAVIOR
# ============================================

# Frequent access threshold (mark as frequent after N accesses)
CACHE_FREQUENT_THRESHOLD=5

# Maximum API calls per hour per account
CACHE_API_RATE_LIMIT=100

# Enable cache warming on application boot
CACHE_WARM_ON_BOOT=false

# Enable automatic cache invalidation via observers
CACHE_AUTO_INVALIDATE=true

# ============================================
# REDIS SENTINEL (optional, for high availability)
# ============================================

# REDIS_SENTINEL_HOST=127.0.0.1
# REDIS_SENTINEL_PORT=26379
# REDIS_SENTINEL_SERVICE=mymaster

# ============================================
# REDIS PERFORMANCE TUNING
# ============================================

# Connection timeout (in seconds)
REDIS_CONNECT_TIMEOUT=2.5

# Read timeout (in seconds)
REDIS_READ_TIMEOUT=2.5

# Persistent connections
REDIS_PERSISTENT=false

# Serialization (php, igbinary, json)
REDIS_SERIALIZER=php

# Compression (none, lzf, zstd, lz4)
REDIS_COMPRESSION=none
